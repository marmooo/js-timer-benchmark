function loadConfig(){localStorage.getItem("darkMode")==1&&document.documentElement.setAttribute("data-bs-theme","dark")}function toggleDarkMode(){localStorage.getItem("darkMode")==1?(localStorage.setItem("darkMode",0),document.documentElement.setAttribute("data-bs-theme","light")):(localStorage.setItem("darkMode",1),document.documentElement.setAttribute("data-bs-theme","dark"))}function testSetTimeout(e){return new Promise(t=>{const n=performance.now();setTimeout(()=>{const s=performance.now(),o=(s-n-e).toFixed(1);t(o)},e)})}function testSetInterval(e,t){return new Promise(n=>{const s=performance.now(),o=setInterval(()=>{const t=performance.now();if(t-s>=e){clearInterval(o);const i=(t-s-e).toFixed(1);n(i)}},t)})}function testAudioBufferSourceNode(e){return new Promise(t=>{const o=new AudioBuffer({length:1,sampleRate:audioContext.sampleRate}),n=new AudioBufferSourceNode(audioContext,{buffer:o});n.connect(scheduler);const i=performance.now();n.onended=()=>{const n=performance.now(),s=(n-i-e).toFixed(1);t(s)};const s=audioContext.currentTime+e/1e3;n.start(s),n.stop(s)})}function testConstantSourceNode(e){return new Promise(t=>{const n=new ConstantSourceNode(audioContext);n.connect(scheduler);const o=performance.now();n.onended=()=>{const n=performance.now(),s=(n-o-e).toFixed(1);t(s)};const s=audioContext.currentTime+e/1e3;n.start(s),n.stop(s)})}function testOscillatorNode(e){return new Promise(t=>{const n=new OscillatorNode(audioContext);n.connect(scheduler);const o=performance.now();n.onended=()=>{const n=performance.now(),s=(n-o-e).toFixed(1);t(s)};const s=audioContext.currentTime+e/1e3;n.start(s),n.stop(s)})}function testRequestAnimationFrame(e){return new Promise(t=>{const n=performance.now();function s(){const o=performance.now();if(o-n>=e){const s=(o-n-e).toFixed(1);t(s)}else requestAnimationFrame(s)}requestAnimationFrame(s)})}function test(){const e=document.getElementById("result").querySelectorAll("tr");setTimeout(async()=>{for(let t=1;t<e.length;t++)e[t].children[1].textContent="",e[t].children[2].textContent="";const t=[1e3,2e3];for(let n=0;n<t.length;n++){const s=t[n];e[1].children[n+1].textContent=await testSetTimeout(s)+"ms",e[2].children[n+1].textContent=await testSetInterval(s,10)+"ms",e[3].children[n+1].textContent=await testSetInterval(s,100)+"ms",e[4].children[n+1].textContent=await testAudioBufferSourceNode(s)+"ms",e[5].children[n+1].textContent=await testConstantSourceNode(s)+"ms",e[6].children[n+1].textContent=await testOscillatorNode(s)+"ms",e[7].children[n+1].textContent=await testRequestAnimationFrame(s)+"ms"}},1e3)}loadConfig();const audioContext=new AudioContext,scheduler=new GainNode(audioContext,{gain:0});scheduler.connect(audioContext.destination),document.getElementById("toggleDarkMode").onclick=toggleDarkMode,document.getElementById("startButton").onclick=test,document.addEventListener("visibilitychange",()=>{if(document.visibilityState!=="visible")return;if(audioContext.state!=="suspended")return;audioContext.resume()})